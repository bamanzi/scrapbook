<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

      
      
      <title>grin 1.2.1 : Python Package Index</title>
      <meta content="">
      <meta content="A grep program configured the way I like it.">
       <link rel="alternate" type="application/rss+xml" title="RSS: 40 latest updates" href="https://pypi.python.org/pypi?:action=rss">
       <link rel="alternate" type="application/rss+xml" title="RSS: 40 newest packages" href="https://pypi.python.org/pypi?:action=packages_rss">
       
       
       
       <link media="screen" href="https://pypi.python.org/static/styles/largestyles.css" type="text/css" rel="alternate stylesheet" title="large text">
       <link media="screen" href="https://pypi.python.org/static/styles/defaultfonts.css" type="text/css" rel="alternate stylesheet" title="default fonts">
       
       

       <!-- allow pypi to override the standard pydotorg/docutils/etc. styles -->
       
       

       
 
 <meta name="description" content="A grep program configured the way I like it.">
 <link rel="meta" title="DOAP" type="application/rdf+xml" href="https://pypi.python.org/pypi?:action=doap&amp;name=grin&amp;version=1.2.1">
 


       
    
<link rel="stylesheet" type="text/css" href="index.css" media="all">
</head>
<body>
     

      <!--  Logo  -->
      <h1 id="logoheader">
       <a accesskey="1" href="http://www.python.org/" id="logolink">
          <img src="python-logo.png" alt="homepage" id="logo" border="0">
       </a>
      </h1>
      <!--  Skip to Navigation  -->
      <div class="skiptonav"><a accesskey="2" href="#left-hand-navigation"><img src="trans.gif" alt="skip to navigation" id="skiptonav" border="0"></a></div>
      <div class="skiptonav"><a accesskey="3" href="#content-body"><img src="trans.gif" alt="skip to content" id="skiptocontent" border="0"></a></div>
      <!--  Utility Menu  -->

      <div id="utility-menu">
        <!--  Search Box  -->
        <div id="searchbox">
          <form id="searchform" method="get" name="searchform" action="https://pypi.python.org/pypi">
            <input name=":action" value="search" type="hidden">
            <div id="search">
              <input value="" class="input-text" id="term" name="term" autofocus="autofocus">
              <input class="input-button" name="submit" value="search" id="submit" type="submit">
            </div>
          </form>
        </div>
<!-- XXX: reinstate this       <div id="screen-switcher"></div> -->
      </div>
      <div id="left-hand-navigation">

        <!--  Main Menu NEED LEVEL TWO HEADER AND FOOTER -->
        <div id="menu">
          <ul class="level-one">
            <li class="selected">
              <a class="selected" href="https://pypi.python.org/pypi">Package Index</a>

              <ul class="level-two">

                
                  <li class=""><a class="" href="https://pypi.python.org/pypi?%3Aaction=browse">Browse&nbsp;packages</a></li>
                
                
                  <li class=""><a class="" href="https://pypi.python.org/pypi?%3Aaction=submit_form">Package&nbsp;submission</a></li>
                
                
                  <li class=""><a class="" href="https://pypi.python.org/pypi?%3Aaction=list_classifiers">List&nbsp;trove&nbsp;classifiers</a></li>
                
                
                  <li class=""><a class="" href="https://pypi.python.org/pypi?%3Aaction=index">List&nbsp;packages</a></li>
                
                
                  <li class=""><a class="" href="https://pypi.python.org/pypi?%3Aaction=rss">RSS&nbsp;(latest&nbsp;40&nbsp;updates)</a></li>
                
                
                  <li class=""><a class="" href="https://pypi.python.org/pypi?%3Aaction=packages_rss">RSS&nbsp;(newest&nbsp;40&nbsp;packages)</a></li>
                
		<li><a href="https://pypi.python.org/pypi?:action=browse&amp;c=533&amp;show=all">Python 3 Packages</a></li>
        <li><a href="http://wiki.python.org/moin/CheeseShopTutorial">PyPI Tutorial</a></li>
        <li><a href="https://pypi.python.org/security">PyPI Security</a></li>
        <li><a href="http://sourceforge.net/tracker/?group_id=66150&amp;atid=513504">PyPI Support</a></li>
        <li><a href="https://bitbucket.org/pypa/pypi/issues">PyPI Bug Reports</a></li>
        <li><a href="http://www.python.org/sigs/distutils-sig/">PyPI Discussion</a></li>
        <li><a href="http://wiki.python.org/moin/CheeseShopDev">PyPI Developer Info</a></li>
       </ul>

            </li>




            <li class=""><a href="http://www.python.org/about" class="" title="About The Python Language">About</a>
            </li><li class=""><a href="http://www.python.org/news" class="" title="">News</a>
            </li><li class=""><a href="http://www.python.org/doc" class="" title="">Documentation</a>
            </li><li class=""><a href="http://www.python.org/download" title="">Download</a>


            </li><li class=""><a href="http://www.python.org/community" class="" title="">Community</a>
            </li><li class=""><a href="http://www.python.org/psf" class="" title="Python Software Foundation">Foundation</a>
            </li><li class=""><a href="http://www.python.org/dev" class="" title="Python Core Language Development">Core Development</a>
            </li><li class=""><a href="http://www.python.org/links" class="" title="">Links</a>
          </li>
          </ul>
        </div>

      </div>
      <div id="content-body">
        <div id="body-main">
          <div id="content">

            <div id="breadcrumb">
              <a href="https://pypi.python.org/pypi">Package Index</a>
              
                <span class="breadcrumb-separator">&gt;</span>
                <a href="https://pypi.python.org/pypi/grin">grin</a>
              
              
                <span class="breadcrumb-separator">&gt;</span>
                <a href="https://pypi.python.org/pypi/grin/1.2.1">1.2.1</a>
              

            </div>

            <div id="document-floating">

            <div id="document-navigation" style="overflow-y: auto; max-height: 15em; overflow-x: hidden;">
		
                  <h4>Not Logged In</h4>

                  <ul>
		    
                    <li><a href="https://pypi.python.org/pypi?%3Aaction=login">Login</a></li>
                    <li><a href="https://pypi.python.org/pypi?%3Aaction=register_form">Register</a></li>
                    <li><a href="https://pypi.python.org/pypi?%3Aaction=forgotten_password_form">Lost Login?</a></li>
		    <li>Use <a href="https://pypi.python.org/pypi?:action=openid">OpenID</a>
                      
                        <a style="border: medium none;" href="https://pypi.python.org/pypi?:action=login&amp;provider=Google"><img src="favicon.ico" alt="Google" title="Google" height="16" width="16"></a>
                      
                      
                        <a style="border: medium none;" href="https://pypi.python.org/pypi?:action=login&amp;provider=myOpenID"><img src="favicon_001.ico" alt="myOpenID" title="myOpenID" height="16" width="16"></a>
                      
                      
                        <a style="border: medium none;" href="https://pypi.python.org/pypi?:action=login&amp;provider=Launchpad"><img src="launchpad.png" alt="Launchpad" title="Launchpad" height="16" width="16"></a>
                      
                    </li>
                  </ul>

		

		

                <div id="statusdiv"><br><h4 id="statusbox">Status</h4>
<li><a href="http://status.python.org/">Nothing to report</a></li></div>
            </div>
        </div>
        


            <div class="section">
              <h1>grin 1.2.1</h1>

              
<div id="download-button">
 
  <a class="button green" style="float: right;" href="https://pypi.python.org/packages/source/g/grin/grin-1.2.1.tar.gz">Download<br>
    <span style="font-size: 75%;">grin-1.2.1.tar.gz</span>
  </a>
 
 
</div>

<p style="font-style: italic;">A grep program configured the way I like it.</p>








<p>I wrote grin to help me search directories full of source code. The venerable
GNU <a class="reference external" href="http://www.gnu.org/software/grep/">grep</a> and <a class="reference external" href="http://www.gnu.org/software/findutils/">find</a> are great tools, but they fall just a little short for my
normal use cases.</p>
<p>The main problem I had with GNU <a class="reference external" href="http://www.gnu.org/software/grep/">grep</a> is that I had no way to exclude certain
directories that I knew had nothing of interest for me, like .svn/, CVS/ and
build/. The results from those directories obscured the results I was actually
interested in. There are tools like <a class="reference external" href="http://search.cpan.org/%7Epetdance/ack/ack">ack</a>, which skip these directories, but <a class="reference external" href="http://search.cpan.org/%7Epetdance/ack/ack">ack</a>
also only grepped files with extensions that it knew about. Furthermore, it had
not implemented the context lines feature, which I had grown accustomed to.
Recent development has added these features, but I had already released grin by
the time I found out.</p>
<p>One can construct a GNU <a class="reference external" href="http://www.gnu.org/software/findutils/">find</a> command that will exclude .svn/ and the rest, but
the only reliable way I am aware of runs <a class="reference external" href="http://www.gnu.org/software/grep/">grep</a> on each file independently. The
startup cost of invoking many separate <a class="reference external" href="http://www.gnu.org/software/grep/">grep</a> processes is relatively large.</p>
<p>Also, I was bored. It seems to be catching. Perl has <a class="reference external" href="http://search.cpan.org/%7Epetdance/ack/ack">ack</a>, Ruby has <a class="reference external" href="http://rak.rubyforge.org/">rak</a>, and
now Python has grin.</p>
<p>I wrote grin to get exactly the features I wanted:</p>
<blockquote>
<ul class="simple">
<li>Recurse directories by default.</li>
<li>Do not go into directories with specified names.</li>
<li>Do not search files with specified extensions.</li>
<li>Be able to show context lines before and after matched lines.</li>
<li>Python regex syntax (one can quibble as to whether this is a feature or my
laziness for using the regex library provided with my implementation
language, but as a Python programmer, this is the syntax I am most familiar
with).</li>
<li>Unless suppressed via a command line option, display the filename regardless
of the number of files.</li>
<li>Accept a file (or stdin) with a list of newline-separated filenames. This
allows one to use <a class="reference external" href="http://www.gnu.org/software/findutils/">find</a> to feed grin a list of filenames which might have
embedded spaces quite easily.</li>
<li>Grep through gzipped text files.</li>
<li>Be useful as a library to build custom tools quickly.</li>
</ul>
</blockquote>
<p>I have also exposed the directory recursion logic as the command-line tool
"grind" in homage to <a class="reference external" href="http://www.gnu.org/software/findutils/">find</a>. It will recurse through directories matching a glob
pattern to file names and printing out the matches. It shares the directory and
file extension skipping settings that grin uses.</p>
<p>For configuration, you can specify the environment variables GRIN_ARGS and
GRIND_ARGS. These should just contain command-line options of their respective
programs. These will be prepended to the command-line arguments actually given.
Options given later will override options given earlier, so all options
explicitly in the command-line will override those in the environment variable.
For example, if I want to default to two lines of context and no skipped
directories, I would have this line in my bashrc:</p>
<pre class="literal-block">export GRIN_ARGS="-C 2 --no-skip-dirs"
</pre>
<div class="section" id="installation">
<h1>Installation</h1>
<p>grin uses <a class="reference external" href="http://pypi.python.org/pypi/setuptools">setuptools</a> to find and install its dependency on <a class="reference external" href="http://argparse.python-hosting.com/">argparse</a>. grin is
easy_installable:</p>
<pre class="literal-block">$ easy_install grin
</pre>
<p>Alternatively, download and unpack the tarball and install:</p>
<pre class="literal-block">$ tar zxf grin-1.2.tar.gz
$ python setup.py install
</pre>
<p>On UNIX systems, use sudo for the latter command if you need to install the
scripts to a directory that requires root privileges:</p>
<pre class="literal-block">$ sudo python setup.py install
</pre>
<p>Running the unittests requires the <a class="reference external" href="http://www.somethingaboutorange.com/mrl/projects/nose">nose</a> framework, which can also be
easy_installed:</p>
<pre class="literal-block">$ easy_install "nose &gt;= 0.10"
...
$ nosetests
.........................
----------------------------------------------------------------------
Ran 25 tests in 0.192s

OK
$ python setup.py test   # The other way to run the tests.
running test
... etc.
</pre>
<p>The development Subversion repository can be checked out anonymously:</p>
<pre class="literal-block">$ svn co https://svn.enthought.com/svn/sandbox/grin/trunk/ grin
</pre>
<p>There is one little tweak to the installation that you may want to consider. By
default, setuptools installs scripts indirectly; the scripts installed to
$prefix/bin or Python2xScripts use setuptools' pkg_resources module to load
the exact version of grin egg that installed the script, then runs the script's
main() function. This is not usually a bad feature, but it can add substantial
startup overhead for a small command-line utility like grin. If you want the
response of grin to be snappier, I recommend installing custom scripts that just
import the grin module and run the appropriate main() function. See the files
examples/grin and examples/grind for examples.</p>
</div>
<div class="section" id="using-grin">
<h1>Using grin</h1>
<p>To recursively search the current directory for a regex:</p>
<pre class="literal-block">$ grin some_regex
</pre>
<p>To search an explicit set of files:</p>
<pre class="literal-block">$ grin some_regex file1.txt path/to/file2.txt
</pre>
<p>To recursively search an explicit set of directories:</p>
<pre class="literal-block">$ grin some_regex dir1/ dir2/
</pre>
<p>To search data piped to stdin:</p>
<pre class="literal-block">$ cat somefile | grin some_regex -
</pre>
<p>To make the regex case-insensitive:</p>
<pre class="literal-block">$ grin -i some_regex
</pre>
<p>To output 2 lines of context before, after, or both before and after the
matches:</p>
<pre class="literal-block">$ grin -B 2 some_regex
$ grin -A 2 some_regex
$ grin -C 2 some_regex
</pre>
<p>To only search Python .py files:</p>
<pre class="literal-block">$ grin -I "*.py" some_regex
</pre>
<p>To suppress the line numbers which are printed by default:</p>
<pre class="literal-block">$ grin -N some_regex
</pre>
<p>To just show the names of the files that contain matches rather than the matches
themselves:</p>
<pre class="literal-block">$ grin -l some_regex
</pre>
<p>To suppress the use of color highlighting:</p>
<pre class="literal-block"># Note that grin does its best to only use color when it detects that it is
# outputting to a real terminal. If the output is being piped to a file or
# a pager, then no color will be used.
$ grin --no-color some_regex
</pre>
<p>To force the use of color highlighting when piping the output to something that
is capable of understanding ANSI color escapes:</p>
<pre class="literal-block">$ grin --force-color some_regex | less -R
</pre>
<p>To avoid recursing into directories named either CVS or RCS:</p>
<pre class="literal-block">$ grin -d CVS,RCS some_regex
</pre>
<p>By default grin skips a large number of files. To suppress all of this behavior
and search everything:</p>
<pre class="literal-block">$ grin -sbSDE some_regex
</pre>
<p>To search for files newer than some_file.txt:</p>
<pre class="literal-block"># If no subdirectory or file in the list contains whitespace:
$ grin some_regex `find . -newer some_file.txt`

# If a subdirectory or file in the list may contain whitespace:
$ find . -newer some_file.txt | grin -f - some_regex
</pre>
</div>
<div class="section" id="using-grind">
<h1>Using grind</h1>
<p>To find files matching the glob "foo*.py" in this directory or any subdirectory
using same the default rules as grin:</p>
<pre class="literal-block">$ grind "foo*.py"
</pre>
<p>To suppress all of the default rules and not skip any files or directories while
searching:</p>
<pre class="literal-block">$ grind -sbSDE "foo*.py"
</pre>
<p>To find all files that are not skipped by the default rules:</p>
<pre class="literal-block">$ grind
</pre>
<p>To start the search in a particular set of directories instead of the current
one (not the -- separator):</p>
<pre class="literal-block">$ grind --dirs thisdir that/dir -- "foo*.py"
</pre>
</div>
<div class="section" id="using-grin-as-a-library">
<h1>Using grin as a Library</h1>
<p>One of the goals I had when writing grin was to be able to use it as a library
to write custom tools. You can see one example that I quickly hacked up in
examples/grinimports.py . It reuses almost all of grin's infrastructure, except
that it preprocesses Python files to extract and normalize just the import
statements. This lets you conveniently and robustly search for import
statements. Look at "grinimports.py --help" for more information.</p>
<p>examples/grinpython.py allows you to search through Python files and specify whether you want to search through actual Python code, comments or string literals in any combination. For example:</p>
<pre class="literal-block">$ grinpython.py -i --strings grep grin.py
grin.py:
  188 :     """ Grep a single file for a regex by iterating over the lines in a file.
  292 :         """ Do a full grep.
...

$ grinpython.py -i --comments grep grin.py
grin.py:
  979 :     # something we want to grep.

$ grinpython.py -i --python-code grep grin.py
grin.py:
  187 : class GrepText(object):
  291 :     def do_grep(self, fp):
...
</pre>
<p>Similarly, it should be straightforward to write small tools like this which
extract and search text metadata from binary files.</p>
</div>
<div class="section" id="to-do">
<h1>To Do</h1>
<ul class="simple">
<li>Figure out the story for grepping UTF-8, UTF-16 and UTF-32 Unicode text files.</li>
</ul>
</div>
<div class="section" id="bugs-and-such">
<h1>Bugs and Such</h1>
<p>If you find a bug, or a missing feature you really want added, please post to
the <a class="reference external" href="https://mail.enthought.com/mailman/listinfo/enthought-dev">enthought-dev</a> mailing list or email the author at
&lt;<a class="reference external" href="mailto:robert.kern@enthought.com">robert.kern@enthought.com</a>&gt;.</p>
</div>


<a name="downloads">&nbsp;</a>
<table class="list" style="margin-bottom: 10px;">
<tbody><tr>
  <th>File</th>
  <th>Type</th>
  <th>Py Version</th>
  <th>Uploaded on</th>
  <th style="text-align: right;">Size</th>
</tr>

<tr class="odd">

    <td>
    <span style="white-space: nowrap;">
      <a href="https://pypi.python.org/packages/source/g/grin/grin-1.2.1.tar.gz#md5=d894426dfbf70bc105388c2a51348199">grin-1.2.1.tar.gz</a>
      (<a title="MD5 Digest" href="https://pypi.python.org/pypi?:action=show_md5&amp;digest=d894426dfbf70bc105388c2a51348199">md5</a>)
    </span>
    
        </td>
  <td style="white-space: nowrap;">
    Source
  </td>
  <td>
    
  </td>
  <td>2010-10-25</td>
  <td style="text-align: right;">26KB</td>

</tr>

<tr><td id="last" colspan="6"></td></tr>
  </tbody></table>

<ul class="nodot">
  <li><strong>Downloads (All Versions):</strong></li>
  <li>
    <span>17</span> downloads in the last day
  </li>
  <li>
    <span>137</span> downloads in the last week
  </li>
  <li>
    <span>650</span> downloads in the last month
  </li>
</ul>



<ul class="nodot">
 <li>
  <strong>Author:</strong>
  <span>Robert Kern</span>
 </li>

 

 

<!-- The <th> elements below are a terrible terrible hack for setuptools -->
 


 

 


 

 <li>
  <strong>License:</strong>
  
  
  <span>BSD</span>
  
 </li>

 

<!-- TODO: add link to products in follow dependencies... -->
 
 
 

 <li>
  <strong>Categories</strong>
  <ul class="nodot">
   <li>
    <a href="https://pypi.python.org/pypi?:action=browse&amp;c=5">Development Status :: 5 - Production/Stable</a>
   </li>
   <li>
    <a href="https://pypi.python.org/pypi?:action=browse&amp;c=8">Environment :: Console</a>
   </li>
   <li>
    <a href="https://pypi.python.org/pypi?:action=browse&amp;c=30">Intended Audience :: Developers</a>
   </li>
   <li>
    <a href="https://pypi.python.org/pypi?:action=browse&amp;c=60">License :: OSI Approved :: BSD License</a>
   </li>
   <li>
    <a href="https://pypi.python.org/pypi?:action=browse&amp;c=156">Operating System :: OS Independent</a>
   </li>
   <li>
    <a href="https://pypi.python.org/pypi?:action=browse&amp;c=214">Programming Language :: Python</a>
   </li>
   <li>
    <a href="https://pypi.python.org/pypi?:action=browse&amp;c=501">Topic :: Utilities</a>
   </li>
  </ul>
 </li>



 

 

 

 

 


 <li>
  <strong>Package Index Owner:</strong>
  <span>rkern</span>
 </li>

 

 <li>
  <strong><a href="http://usefulinc.com/doap">DOAP</a> record:</strong>
  <a href="https://pypi.python.org/pypi?:action=doap&amp;name=grin&amp;version=1.2.1">grin-1.2.1.xml</a>
 </li>

</ul>





            </div>


          </div>
          <div id="footer"><div id="credits">
            <a href="http://www.python.org/about/website">Website maintained by the Python community</a><br>
            <a href="https://www.fastly.com/" title="Real-time CDN services provided by Fastly">Real-time CDN by Fastly</a> /
            <a href="http://developer.rackspace.com/" title="Server hosting by Rackspace Open Source support">hosting by Rackspace</a> /
            <a href="http://www.timparkin.co.uk/" title="Design by Tim Parkin, Yorkshire man, photographer and developer">design by Tim Parkin</a>
          </div>
          Copyright Â© 1990-2014, <a href="http://www.python.org/psf">Python Software Foundation</a><br>
          <a href="http://www.python.org/about/legal">Legal Statements</a>

          </div>
        </div>
      </div>

      

      
      

    
  

</body>
</html>
